import{d as y,l as x,m as _,n as B,h as I,o as F,w as P,c as d,a as t,t as k,b as l,f as A,F as L,i as R,g as a,p as S}from"./index-DtcMr-bo.js";const z={class:"h-full flex content-width"},M={class:"flex flex-col py-2 grow gap-2"},N={class:"p-2 bg-main rounded-sm shadow-sm flex items-center"},O={class:"font-bold"},V={class:"h-full bg-main rounded-sm shadow-sm"},W={key:0,class:"middle bg-slate-900"},j={class:"p-2 bg-main rounded-sm shadow-sm flex items-center justify-between"},D={class:"flex overflow-auto footer-pagination"},E=["onClick"],$=y({__name:"FileView",setup(G){const p=x(),u=_(),b=B();let n;const i=I();let e;const c=()=>{const s=u.params.id;e=i.getOrAddContentInfo(s)},r=()=>{i.renderPage(u.params.id,n,p)};F(()=>{c()}),P(()=>u.params.id,()=>{c(),r(),n&&(n.contentWindow.document.open(),n.contentWindow.document.write(""),n.contentWindow.document.close())});const f=()=>{i.close(e.value.id),b.push({name:"library"})},w=s=>{n=s,c(),r()},v=()=>{e.value.page++,r()},g=()=>{e.value.page--,r()},h=s=>{e.value.page=s,r()};return(s,o)=>(a(),d("div",z,[t("div",M,[t("div",N,[t("span",O,k(l(e).fileInfo.name),1),o[3]||(o[3]=t("div",{class:"grow"},null,-1)),t("button",{type:"button",class:"k-button k-button-md k-rounded-md k-button-link with-underline",onClick:f},o[1]||(o[1]=[t("span",{class:"k-button-text"},"Close",-1)])),t("button",{type:"button",class:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",onClick:o[0]||(o[0]=C=>l(i).saveFileState(l(e).fileInfo))},o[2]||(o[2]=[t("span",{class:"k-button-text"},"Save",-1)]))]),t("div",V,[l(e).loading?(a(),d("div",W,o[4]||(o[4]=[t("div",null,"LOADING",-1)]))):A("",!0),t("iframe",{src:"javascript:void(0);",ref:w,style:{width:"100%",border:"none",height:"100%",color:"white"}})]),t("div",j,[t("button",{type:"button",class:"k-button k-button-md k-rounded-md k-button-outline k-button-outline-primary w-8",onClick:g},o[5]||(o[5]=[t("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 20 20",class:"w-5 h-5","aria-hidden":"true",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])),t("div",D,[(a(!0),d(L,null,R([...Array(l(e).maxPage).keys()],(C,m)=>(a(),d("button",{type:"button",class:S(["k-button k-button-md k-rounded-md k-button-link k-button-link-base px-2",{"k-button-active":l(e).page==m}]),onClick:()=>h(m)},k(m+1),11,E))),256))]),t("button",{type:"button",class:"k-button k-button-md k-rounded-md k-button-outline k-button-outline-primary w-8",onClick:v},o[6]||(o[6]=[t("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 20 20",class:"w-5 h-5","aria-hidden":"true",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]))])])]))}});export{$ as default};
