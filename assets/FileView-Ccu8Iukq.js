import{d as C,h as x,i as y,j as _,o as B,w as I,c as a,a as t,t as k,b as l,f as F,F as P,r as A,g as d,n as L}from"./index-Dd6rZvZd.js";const R={class:"h-full flex content-width"},W={class:"flex flex-col grow gap-2 p-1"},j={class:"p-2 bg-sec rounded-sm shadow-sm flex items-center"},z={class:"font-bold text-sm"},M={class:"h-full bg-main rounded-sm shadow-sm"},N={key:0,class:"middle bg-slate-900"},O={class:"p-2 bg-sec rounded-sm shadow-sm flex items-center justify-between"},S={class:"flex overflow-auto footer-pagination"},V=["onClick"],G=C({__name:"FileView",setup(D){const u=x(),b=y();let n;const r=_();let o;const c=()=>{const s=u.params.id;o=r.getOrAddContentInfo(s)},i=()=>{r.renderPage(u.params.id)};B(()=>{c()}),I(()=>u.params.id,()=>{c(),i(),n&&n.contentWindow&&(n.contentWindow.document.open(),n.contentWindow.document.write(""),n.contentWindow.document.close())});const p=()=>{r.close(o.value.id),b.push({name:"library"})},f=s=>{n=s,c(),i()},w=()=>{o.value.page++,i()},v=()=>{o.value.page--,i()},g=s=>{o.value.page=s,i()};return(s,e)=>(d(),a("div",R,[t("div",W,[t("div",j,[t("span",z,k(l(o).fileInfo.name),1),e[3]||(e[3]=t("div",{class:"grow"},null,-1)),t("button",{type:"button",class:"k-button k-button-sm k-button-link with-underline",onClick:p},e[1]||(e[1]=[t("span",{class:"k-button-text"},"Close",-1)])),t("button",{type:"button",class:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",onClick:e[0]||(e[0]=h=>l(r).saveFileState(l(o).fileInfo))},e[2]||(e[2]=[t("span",{class:"k-button-text"},"Save",-1)]))]),t("div",M,[l(o).loading?(d(),a("div",N,e[4]||(e[4]=[t("div",null,"LOADING",-1)]))):F("",!0),t("iframe",{id:"file-iframe",src:"javascript:void(0);",ref:f,style:{width:"100%",border:"none",height:"100%",color:"white"}})]),t("div",O,[t("button",{type:"button",class:"k-button k-button-md k-rounded-md k-button-outline k-button-outline-primary w-8",onClick:v},e[5]||(e[5]=[t("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 20 20",class:"w-5 h-5","aria-hidden":"true",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])),t("div",S,[(d(!0),a(P,null,A([...Array(l(o).maxPage).keys()],(h,m)=>(d(),a("button",{type:"button",class:L(["k-button k-button-md k-rounded-md k-button-link k-button-link-base px-2",{"k-button-active":l(o).page==m}]),onClick:()=>g(m)},k(m+1),11,V))),256))]),t("button",{type:"button",class:"k-button k-button-md k-rounded-md k-button-outline k-button-outline-primary w-8",onClick:w},e[6]||(e[6]=[t("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 20 20",class:"w-5 h-5","aria-hidden":"true",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]))])])]))}});export{G as default};
